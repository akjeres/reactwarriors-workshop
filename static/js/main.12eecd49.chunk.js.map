{"version":3,"sources":["components/ButtonMovieWillWatch.jsx","components/MovieItem.jsx","components/SortButton.jsx","components/MovieTabs.jsx","components/Button.jsx","components/Pagination.jsx","components/App.jsx","utils/api.js","index.js"],"names":["ButtonMovieWillWatch","state","willWatch","this","props","remove","add","text","handler","type","className","classNames","onClick","setState","movie","React","Component","MovieItem","data","deleteMovie","addMovieToWillWatch","deleteMovieFromWillWatch","src","backdrop_path","poster_path","alt","title","vote_average","bind","SortButton","MovieTabs","getClassName","example","value","nextPops","nextState","sort","updateSort","Button","disabled_value","disabled","Pagination","increasePage","page","total","result","updatePage","decreasePage","App","updateMovies","movies","filter","item","id","updateMoviesWillWatch","moviesWillWatch","push","req","obj","fetch","then","res","ok","Error","status","json","results","total_pages","catch","e","console","error","message","getMovies","prevProps","prevState","map","key","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.12eecd49.chunk.js","sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\n\nexport default class ButtonMovieWillWatch extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            willWatch: false,\n        };\n    };\n\n    render() {\n        const { willWatch } = this.state,\n              { remove, add } = this.props,\n              text = willWatch ? 'Remove Will Watch' : 'Will Watch',\n              handler = willWatch ? remove : add;\n        return (\n            <button type=\"button\" className={\n                    classNames(\n                        'btn',\n                        { 'btn-success': !!willWatch },\n                        { 'btn-secondary': !willWatch },\n                    )\n                }\n                onClick={ () => {\n                    this.setState({\n                        willWatch: !willWatch,\n                    });\n                    handler(this.props.movie);\n                   }\n                }\n            >\n                { text }\n            </button>\n        );\n    };\n}","import React from \"react\";\nimport ButtonMovieWillWatch from \"./ButtonMovieWillWatch\";\n\nclass MovieItem extends React.Component {\n  // componentWillUnmount() {\n  //     console.log('unmount ', this.props.data.title);\n  // };\n\n  render() {\n    const {\n      data,\n      deleteMovie,\n      addMovieToWillWatch,\n      deleteMovieFromWillWatch\n    } = this.props;\n    // props.data = {};\n    return (\n      <div className=\"card\">\n        <img\n          className=\"card-img-top\"\n          src={`https://image.tmdb.org/t/p/w500${data.backdrop_path ||\n            data.poster_path}`}\n          alt=\"\"\n        />\n        <div className=\"card-body\">\n          <h6 className=\"card-title\">{data.title}</h6>\n          <div className=\"d-flex justify-content-between align-items-center\">\n            <p className=\"mb-0\">Rating: {data.vote_average}</p>\n            <ButtonMovieWillWatch\n                remove={ deleteMovieFromWillWatch.bind(null, data) }\n                add={ addMovieToWillWatch.bind(null, data) }\n            />\n          </div>\n          <button\n            type=\"button\"\n            onClick={() => {\n              deleteMovie(data);\n            }}\n          >\n            Delete\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default MovieItem;\n","import React from 'react';\n\nexport default class SortButton extends React.Component {\n    render() {\n      const { className, handler, text } = this.props;\n      return (\n          <div\n              className={`nav-link ${className}`}\n              onClick={ handler.bind(null) }\n          >\n              { text }\n          </div>\n      );\n    };\n}","import React from 'react';\nimport SortButton from './SortButton';\n\nexport default class MovieTabs extends React.Component {\n    // componentWillReceiveProps(nextProps, nextState) {\n    //     console.log('MovieTab will receive props');\n    //     console.log('next: ', nextProps.sort);\n    //     console.log('this: ', this.props.sort);\n    // };\n\n    shouldComponentUpdate(nextPops, nextState) {\n        return nextPops.sort !== this.props.sort;\n    };\n\n    getClassName = (example, value) => {\n        return example === value ? 'active' : null;\n    };\n\n    render() {\n        const { sort, updateSort } = this.props;\n        return(\n          <ul className=\"tabs nav nav-pills\">\n              <li className=\"nav-item\">\n                  <SortButton\n                      className={this.getClassName(sort, 'popularity.desc')}\n                      handler={updateSort.bind(null, 'popularity.desc')}\n                      text=\"Popularity desc\"\n                  />\n              </li>\n              <li className=\"nav-item\">\n                  <SortButton\n                      className={this.getClassName(sort, 'revenue.desc')}\n                      handler={updateSort.bind(null, 'revenue.desc')}\n                      text=\"Revenue desc\"\n                  />\n              </li>\n              <li className=\"nav-item\">\n                  <SortButton\n                      className={this.getClassName(sort, 'vote_average.desc')}\n                      handler={updateSort.bind(null, 'vote_average.desc')}\n                      text=\"Vote average desc\"\n                  />\n              </li>\n          </ul>\n      );\n    };\n}","import React from 'react';\nimport classNames from 'classnames';\n\nexport default class Button extends React.Component {\n    render() {\n        const { handler = null, text  } = this.props,\n              disabled_value = !handler;\n        return(\n            <button\n                type=\"button\"\n                onClick={ handler }\n                className={\n                    classNames(\n                        'btn',\n                        { 'btn-outline-dark': !disabled_value },\n                        { 'btn-link': disabled_value },\n                    )\n                }\n                disabled={ disabled_value }\n            >{ text }</button>\n        );\n    }\n}","import React from 'react';\nimport classNames from 'classnames';\nimport Button from './Button';\n\nexport default class Pagination extends React.Component {\n\n    increasePage = () => {\n        const { page, total, updatePage } = this.props,\n              result = page + 1;\n\n        updatePage((result > total) ? total : result);\n    };\n\n    decreasePage = () => {\n        const { page, updatePage } = this.props,\n              result = page - 1;\n\n        updatePage((result < 1) ? 1 : result);\n    };\n\n    render() {\n      const { page } = this.props;\n      return(\n          <div\n              className={\n                classNames(\n                    'd-flex',\n                    'justify-content-between',\n                    'align-items-stretch',\n                    'flex-nowrap',\n                    'mb-4',\n                )\n              }\n          >\n              <div className={\n                  classNames(\n                      'w-100',\n                      'text-left'\n                  )\n              }>\n                  <Button\n                      handler={ this.decreasePage }\n                      text=\"Previous\"\n                  />\n              </div>\n              <div className={\n                  classNames(\n                      'w-100',\n                      'text-center'\n                  )\n              }>\n                  <Button\n                      text={ page }\n                  />\n              </div>\n              <div className={\n                  classNames(\n                      'w-100',\n                      'text-right'\n                  )\n              }>\n                  <Button\n                      handler={ this.increasePage }\n                      text=\"Next\"\n                  />\n              </div>\n          </div>\n      );\n    };\n}","import React from \"react\";\nimport MovieItem from \"./MovieItem\";\nimport MovieTabs from \"./MovieTabs\";\nimport Pagination from \"./Pagination\";\nimport { API_URL, API_KEY_3 } from \"../utils/api\";\n\n// UI = fn(state, props)\n\n// App = new React.Component()\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      movies: [],\n      moviesWillWatch: [],\n      req: '/discover/movie',\n      sort: 'popularity.desc',\n      page: 1,\n      total: null,\n    };\n  }\n\n  getMovies(obj) {\n      const { req, sort, page } = obj;\n\n      fetch(`${API_URL}${req}?api_key=${API_KEY_3}&sort_by=${sort}&page=${page}`)\n          .then(res => {\n              if (!res.ok) throw new Error(`\"${req}\" method was not found. Status ${res.status}.`);\n              return res.json();\n          })\n          .then(res => {\n              this.setState({\n                  movies: res.results,\n                  page: res.page,\n                  total: res.total_pages,\n              });\n          })\n          .catch(e => {\n              console.error(e.message);\n              this.setState({\n                  movies: [],\n                  page: 1,\n                  total: null,\n              });\n          });\n  };\n\n  componentDidMount() {\n    this.getMovies(this.state);\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n      if (!(\n              prevState.sort === this.state.sort\n              && prevState.page === this.state.page\n          )) {\n          this.getMovies(this.state);\n      }\n  };\n\n  deleteMovie = movie => {\n    const updateMovies = this.state.movies.filter(item => item.id !== movie.id);\n\n    // this.state.movies = updateMovies;\n    this.setState({\n      movies: updateMovies\n    });\n  };\n\n  addMovieToWillWatch = movie => {\n    const updateMoviesWillWatch = [...this.state.moviesWillWatch];\n    updateMoviesWillWatch.push(movie);\n\n    this.setState({\n      moviesWillWatch: updateMoviesWillWatch\n    });\n  };\n\n  deleteMovieFromWillWatch = movie => {\n    const updateMoviesWillWatch = this.state.moviesWillWatch.filter(\n      item => item.id !== movie.id\n    );\n\n    this.setState({\n      moviesWillWatch: updateMoviesWillWatch\n    });\n  };\n\n  updateSort = value => {\n    this.setState({\n        sort: value,\n    });\n  };\n\n  updatePage = value => {\n      this.setState({\n          page: value,\n      });\n  };\n\n  render() {\n    const {\n        sort,\n        movies,\n        moviesWillWatch,\n        page,\n        total\n    } = this.state;\n    return (\n      <div className=\"container\">\n        <div className=\"row mt-4\">\n          <div className=\"col-9\">\n            <div className=\"row mb-4\">\n                <div className=\"col-12\">\n                    <MovieTabs\n                        sort={ sort }\n                        updateSort={ this.updateSort }\n                    />\n                </div>\n            </div>\n            <div className=\"row\">\n              {movies.map(movie => {\n                if (!('id' in movie)) return null;\n                return (\n                  <div className=\"col-6 mb-4\" key={ movie.id }>\n                    <MovieItem\n                      data={ movie }\n                      deleteMovie={ this.deleteMovie }\n                      addMovieToWillWatch={ this.addMovieToWillWatch }\n                      deleteMovieFromWillWatch={ this.deleteMovieFromWillWatch }\n                    />\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n          <div className=\"col-3\">\n            <h4>Will Watch: { moviesWillWatch.length } movies</h4>\n            <ul className=\"list-group\">\n              { moviesWillWatch.map(movie => (\n                <li key={ movie.id } className=\"list-group-item\">\n                  <div className=\"d-flex justify-content-between\">\n                    <p>{ movie.title }</p>\n                    <p>{ movie.vote_average }</p>\n                  </div>\n                </li>\n              )) }\n            </ul>\n          </div>\n        </div>\n        <div className=\"row\">\n            <div className=\"col-9\">\n                <Pagination\n                    page={ page }\n                    updatePage={ this.updatePage }\n                    total={ total }\n                />\n            </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","export const API_URL = \"https://api.themoviedb.org/3\";\n\nexport const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";\n\nexport const API_KEY_4 =\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4\";\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./stylesheets/index.scss\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}